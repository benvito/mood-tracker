# queries.py

CREATE_TABLE_QUERY = '''
    CREATE TABLE IF NOT EXISTS mood_records (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        date TEXT NOT NULL,
        sleep_quality INTEGER CHECK(sleep_quality BETWEEN 0 AND 100),
        fatigue INTEGER CHECK(fatigue BETWEEN 0 AND 100),
        happiness INTEGER CHECK(happiness BETWEEN 0 AND 100),
        daily_experience INTEGER CHECK(daily_experience BETWEEN 0 AND 100),
        emoji_id TEXT NOT NULL
    )
'''

INSERT_RECORD_QUERY = '''
    INSERT INTO mood_records (date, sleep_quality, fatigue, happiness, daily_experience, emoji_id)
    VALUES (?, ?, ?, ?, ?, ?)
'''

AGGREGATE_DATA_QUERY = '''
SELECT 
    ROUND(AVG(sleep_quality), 2) AS avg_sleep_quality,
    ROUND(AVG(fatigue), 2) AS avg_fatigue,
    ROUND(AVG(happiness), 2) AS avg_happiness,
    ROUND(AVG(daily_experience), 2) AS avg_daily_experience,
    (
        SELECT GROUP_CONCAT(emoji_id)
        FROM (
            SELECT emoji_id, COUNT(emoji_id) AS count
            FROM mood_records
            GROUP BY emoji_id
            ORDER BY COUNT(emoji_id) DESC
            LIMIT 2
        )
    ) AS top_2_emoji_ids
FROM mood_records;

'''

AGGREGATE_WEEKLY_DATA_QUERY = '''
SELECT 
    ROUND(AVG(sleep_quality), 2) AS avg_sleep_quality,
    ROUND(AVG(fatigue), 2) AS avg_fatigue,
    ROUND(AVG(happiness), 2) AS avg_happiness,
    ROUND(AVG(daily_experience), 2) AS avg_daily_experience,
    (
        SELECT GROUP_CONCAT(emoji_id)
        FROM (
            SELECT emoji_id, COUNT(emoji_id) AS count
            FROM mood_records
            WHERE date >= DATE('now', '-7 days')
            GROUP BY emoji_id
            ORDER BY COUNT(emoji_id) DESC
            LIMIT 2
        )
    ) AS top_2_emoji_ids
FROM mood_records
WHERE date >= DATE('now', '-7 days');
'''

GET_AVG_DAYS_FOR_MONTH_YEAR = """
        WITH daily_data AS (
            SELECT 
                strftime('%d', date) AS day,
                AVG(sleep_quality) AS avg_sleep_quality,
                AVG(fatigue) AS avg_fatigue,
                AVG(happiness) AS avg_happiness,
                AVG(daily_experience) AS avg_daily_experience
            FROM mood_records
            WHERE strftime('%m', date) = ? AND strftime('%Y', date) = ?
            GROUP BY day
        )
        SELECT 
            day,
            ROUND((avg_sleep_quality + avg_fatigue + avg_happiness + avg_daily_experience) / 4, 2) AS average_score
        FROM daily_data
        ORDER BY CAST(day AS INTEGER);
        """

CREATE_TABLE_GREETINGS = '''
CREATE TABLE IF NOT EXISTS greetings (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    text TEXT NOT NULL                   
);
'''

GET_RANDOM_GREETING = '''
SELECT text FROM greetings ORDER BY RANDOM() LIMIT 1;
'''

INSERT_GREETINGS = '''
INSERT INTO greetings (text) VALUES
('Привет, это твоя главная страница'),
('Ого ты снова тут!'),
('А ты сегодня уже заполнил форму?'),
('Привет! Как у тебя настроение?'),
('Добро пожаловать обратно!'),
('Снова ты! Это радует!'),
('Кажется, тут стало веселее с твоим появлением!'),
('Не забудь поделиться своим настроением!'),
('Привет, герой дня!'),
('Ого, ты выглядишь отлично!'),
('Что нового? Расскажешь?'),
('Привет, сегодня замечательный день!'),
('Как прошла ночь?'),
('Эй, загляни в формы, они ждут тебя!'),
('Не забывай про свои цели!'),
('Привет, ты уже вдохновился на день?'),
('Ты пришел как раз вовремя!'),
('Скучал по главной странице?'),
('Кажется, ты точно настроен на успех!'),
('Рад видеть тебя здесь!'),
('Привет! Мир ждет твоих достижений!'),
('Какие планы на сегодня?'),
('Твоя энергия сегодня на высоте!'),
('Стань лучшей версией себя сегодня!'),
('Эй! Как настроение?'),
('Помни, каждый день — это шанс стать лучше.'),
('Делись своими эмоциями, это важно!'),
('Снова ты? Это замечательно!'),
('Главная страница скучала по тебе!'),
('Вперед, заполни форму и покори мир!'),
('Ура, ты снова тут!'),
('Как там твое настроение?'),
('Ты делаешь прогресс! Продолжай в том же духе!'),
('Главное — не останавливаться!'),
('Твоя форма ждет твоего внимания!'),
('Привет, как день?'),
('Кажется, у тебя все получится!'),
('Ты замечательный!'),
('Снова вдохновляешься? Это круто!'),
('Привет! Ты уже достиг своей цели?'),
('Сегодня день для великих дел!'),
('Форма — это не цель, а инструмент.'),
('Ты делаешь этот мир лучше!'),
('Привет! Что нового в твоей жизни?'),
('Смотри, главная страница снова с тобой!'),
('Какие планы на этот день?'),
('Главное — двигаться вперед, даже маленькими шагами.'),
('Каждый день начинается с первого шага.'),
('Привет! Этот день твой!'),
('Пора заполнять форму и вдохновляться!'),
('Твое присутствие делает эту страницу лучше!');
'''

GET_RANDOM_QUOTE = '''
SELECT text
FROM quotes
ORDER BY RANDOM()
LIMIT 1;
'''

CREATE_QUOTES_TABLE = '''
CREATE TABLE IF NOT EXISTS quotes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    text TEXT NOT NULL 
);
'''

INSERT_QUOTES = '''
INSERT INTO quotes (text) VALUES
('Каждый день — это новая возможность изменить свою жизнь.'),
('Маленькие шаги ведут к большим достижениям.'),
('Ты способен на большее, чем думаешь.'),
('Не останавливайся на пути к своей цели.'),
('Успех — это результат упорства и трудолюбия.'),
('Лучшее время для действий — сейчас.'),
('Не жди вдохновения, начни действовать.'),
('Сила воли сильнее обстоятельств.'),
('Не бойся делать ошибки, бойся не попробовать.'),
('Каждое усилие приближает тебя к успеху.'),
('Мечты становятся реальностью, если ты действуешь.'),
('Никогда не сдавайся, даже когда сложно.'),
('Твое будущее зависит от того, что ты делаешь сегодня.'),
('Каждое падение — это урок.'),
('Не сравнивай себя с другими, сравнивай себя с собой вчерашним.'),
('Чем больше ты работаешь, тем больше удачи у тебя появляется.'),
('Жизнь — это игра, и ты в ней главный игрок.'),
('Сделай первый шаг, даже если он кажется сложным.'),
('Неудача — это только шаг на пути к успеху.'),
('Уверенность приходит с практикой.'),
('Верь в себя, и мир поверит в тебя.'),
('Каждый день учись чему-то новому.'),
('Будь лучшей версией себя.'),
('Твои действия сегодня определяют твое завтра.'),
('Секрет успеха — это постоянство.'),
('Не жди, пока будет легко, начни сейчас.'),
('Твоя энергия направляет твою судьбу.'),
('Ошибки — это ступени к успеху.'),
('Каждое утро начинается с новых возможностей.'),
('Не бойся выйти из зоны комфорта.'),
('Твоя жизнь в твоих руках.'),
('Ставь цели выше, чем ты думаешь возможным.'),
('Начни с малого, но двигайся вперед.'),
('Настойчивость — ключ к достижению мечты.'),
('Будь смелым, и успех последует.'),
('Не позволяй страху управлять твоей жизнью.'),
('Вдохновение приходит, когда ты действуешь.'),
('Каждая мелочь имеет значение на пути к успеху.'),
('Трудности делают тебя сильнее.'),
('Стань примером для других.'),
('Вера в себя творит чудеса.'),
('Не ищи оправданий, ищи способы.'),
('Ты можешь больше, чем думаешь.'),
('Не сдавайся, даже если путь труден.'),
('Настоящая сила — это умение подниматься после падений.'),
('Лучшая инвестиция — это инвестиция в себя.'),
('Путь к успеху начинается с первого шага.'),
('Не жди удачи, создавай ее сам.'),
('Будь лучшим в том, что ты делаешь.'),
('Мечты — это планы с датой исполнения.'),
('Неудачи — это возможность начать снова, но умнее.'),
('Каждый день делай маленькие шаги к своей мечте.'),
('Действие важнее слов.'),
('Не бойся быть уникальным.'),
('Делай сегодня то, что другие не хотят, чтобы завтра делать то, что другие не могут.'),
('Успех — это умение вставать каждый раз после падения.'),
('Твоя настойчивость сильнее любых препятствий.'),
('Не теряй времени на сомнения.'),
('Успех любит смелых.'),
('Не бойся изменений, они ведут к росту.'),
('Каждый день — это шанс стать лучше.'),
('Ты создаешь свою реальность своими мыслями.'),
('Будь благодарен за то, что имеешь, и стремись к большему.'),
('Твои усилия окупятся.'),
('Не останавливайся, даже если тяжело.'),
('Каждое утро — это шанс начать заново.'),
('Ты можешь изменить свою жизнь прямо сейчас.'),
('Неудачи делают тебя сильнее.'),
('Жизнь коротка, используй каждый момент.'),
('Ты уникален и способен на многое.'),
('Лучший день для начала — сегодня.'),
('Твоя уверенность — это ключ к успеху.'),
('Не останавливайся на достигнутом.'),
('Каждое усилие приближает тебя к мечте.'),
('Не бойся быть собой.'),
('Успех начинается с веры в себя.'),
('Трудности — это временно, успех — навсегда.'),
('Двигайся вперед, даже если маленькими шагами.'),
('Не сравнивай себя с другими, сравнивай себя с собой вчерашним.'),
('Будь тем, кем ты хочешь быть.'),
('Не жди удобного момента, создавай его.'),
('Действие побеждает страх.'),
('Ты сильнее, чем думаешь.'),
('Лучшая версия себя ждет тебя впереди.'),
('Верь в свою мечту и двигайся к ней.'),
('Мечты не работают, если ты не работаешь.'),
('Будь источником вдохновения для других.'),
('Не бойся мечтать о большом.'),
('Каждый день — это шанс на успех.');
'''